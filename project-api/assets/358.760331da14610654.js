"use strict";(self.webpackChunkmain_project=self.webpackChunkmain_project||[]).push([[358],{4358:(_t,C,p)=>{p.r(C),p.d(C,{AdminModule:()=>gt});var l=p(6895),a=p(433),_=p(529),s=p(6773),t=p(8256),g=p(2340);let x=(()=>{class e{constructor(o){this._http=o}getUsers(){return this._http.get(g.N.apiUrl+"/user/list")}updateUser(o,n){return this._http.put(g.N.apiUrl+"/user/profile/"+o,n)}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(_.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),T=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-h1"]],inputs:{data:"data"},decls:2,vars:1,template:function(o,n){1&o&&(t.TgZ(0,"h2"),t._uU(1),t.qZA()),2&o&&(t.xp6(1),t.Oqu(n.data))}}),e})();function F(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"div",7),t._uU(1),t.TgZ(2,"button",8),t.NdJ("click",function(){t.CHM(o);const i=t.oxw();return t.KtG(i.close())}),t._uU(3,"X"),t.qZA()()}if(2&e){const o=t.oxw();t.xp6(1),t.hij(" ",o.msg," ")}}function N(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td")(12,"button",9),t.NdJ("click",function(){const c=t.CHM(o).$implicit,u=t.oxw();return t.KtG(u.change_status(c))}),t._uU(13,"Change"),t.qZA()()()}if(2&e){const o=r.$implicit,n=r.index;t.xp6(2),t.Oqu(n+1),t.xp6(2),t.Oqu(o.name),t.xp6(2),t.Oqu(o.contact),t.xp6(2),t.Oqu(o.email),t.xp6(2),t.Oqu(1==o.status?"Enable":"Disable")}}let k=(()=>{class e{constructor(o){this._users=o,this.users=[],this.msg="",this._users.getUsers().subscribe(n=>{this.users=n})}ngOnInit(){}change_status(o){console.log(o),o.status=!o.status,this._users.updateUser(o._id,o).subscribe(i=>{console.log(i),this.msg="Status Change Successfuly"})}close(){this.msg=""}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(x))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-users"]],decls:20,vars:3,consts:[[1,"container","my-3"],[1,"row"],[1,"col-md-12"],[3,"data"],["class","alert alert-info",4,"ngIf"],[1,"table","table-dark"],[4,"ngFor","ngForOf"],[1,"alert","alert-info"],[1,"close",3,"click"],[1,"btn","btn-info","p-3",3,"click"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"app-h1",3),t.YNc(4,F,4,1,"div",4),t.TgZ(5,"table",5)(6,"tr")(7,"th"),t._uU(8,"S.No."),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Name"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Contact"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Email"),t.qZA(),t.TgZ(15,"th"),t._uU(16,"Status"),t.qZA(),t.TgZ(17,"th"),t._uU(18,"Change Status"),t.qZA()(),t.YNc(19,N,14,5,"tr",6),t.qZA()()()()),2&o&&(t.xp6(3),t.Q6J("data","users"),t.xp6(1),t.Q6J("ngIf",n.msg),t.xp6(15),t.Q6J("ngForOf",n.users))},dependencies:[l.sg,l.O5,T]}),e})(),f=(()=>{class e{constructor(o,n){this._http=o,this._router=n}do_login(o){return this._http.post(g.N.apiUrl+"/admin/login",o)}isLoggedIn(){return!!localStorage.getItem(g.N.tokenName)}logout(){localStorage.removeItem(g.N.tokenName),this._router.navigate(["/"])}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(_.eN),t.LFG(s.F0))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function I(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"ul",6)(1,"li",7)(2,"a",8),t._uU(3,"Dashboard"),t.qZA()(),t.TgZ(4,"li",7)(5,"a",9),t._uU(6,"Users"),t.qZA()(),t.TgZ(7,"li",10)(8,"a",11),t._uU(9,"Products"),t.qZA(),t.TgZ(10,"div",12)(11,"a",13),t._uU(12,"Add"),t.qZA(),t.TgZ(13,"a",14),t._uU(14,"List"),t.qZA()()(),t.TgZ(15,"li",10)(16,"a",11),t._uU(17,"Category"),t.qZA(),t.TgZ(18,"div",12)(19,"a",15),t._uU(20,"Add"),t.qZA(),t.TgZ(21,"a",16),t._uU(22,"List"),t.qZA()()(),t.TgZ(23,"li",7)(24,"a",17),t._uU(25,"Demo"),t.qZA()(),t.TgZ(26,"li",7)(27,"a",18),t.NdJ("click",function(){t.CHM(o);const i=t.oxw();return t.KtG(i._login.logout())}),t._uU(28,"Logout"),t.qZA()()()}}let J=(()=>{class e{constructor(o){this._login=o}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(f))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-header"]],decls:7,vars:1,consts:[[1,"navbar","navbar-expand-md","bg-dark","navbar-dark"],["href","#",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#collapsibleNavbar",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","collapsibleNavbar",1,"collapse","navbar-collapse"],["class","navbar-nav",4,"ngIf"],[1,"navbar-nav"],[1,"nav-item"],["routerLink","/admin/dashboard",1,"nav-link"],["routerLink","/admin/users",1,"nav-link"],[1,"nav-item","dropdown"],["data-toggle","dropdown",1,"nav-link","dropdown-toggle",2,"cursor","pointer"],[1,"dropdown-menu"],["routerLink","/admin/products",1,"dropdown-item"],["routerLink","/admin/products/list",1,"dropdown-item"],["routerLink","/admin/category",1,"dropdown-item"],["routerLink","/admin/category/list",1,"dropdown-item"],["routerLink","/admin/demo",1,"nav-link"],[1,"nav-link",2,"cursor","pointer",3,"click"]],template:function(o,n){1&o&&(t.TgZ(0,"nav",0)(1,"a",1),t._uU(2,"Admin Panel"),t.qZA(),t.TgZ(3,"button",2),t._UZ(4,"span",3),t.qZA(),t.TgZ(5,"div",4),t.YNc(6,I,29,0,"ul",5),t.qZA()()),2&o&&(t.xp6(6),t.Q6J("ngIf",n._login.isLoggedIn()))},dependencies:[l.O5,s.yS]}),e})(),P=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-footer"]],decls:3,vars:0,consts:[[1,"container-fluid","bg-dark"],[1,"text-center","text-light","m-0","p-4"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"h3",1),t._uU(2,"Footer Area"),t.qZA()())}}),e})(),O=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-admin"]],decls:4,vars:0,consts:[[2,"min-height","700px"]],template:function(o,n){1&o&&(t._UZ(0,"app-header"),t.TgZ(1,"div",0),t._UZ(2,"router-outlet"),t.qZA(),t._UZ(3,"app-footer"))},dependencies:[s.lC,J,P]}),e})();var h=p(4655);let y=(()=>{class e{constructor(){this.myEvent=new t.vpe}ngOnInit(){}confirm_delete(o){o.click(),this.myEvent.emit()}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-delete"]],inputs:{data:"data"},outputs:{myEvent:"myEvent"},decls:15,vars:1,consts:[["id","delModal",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-body"],[1,"modal-footer"],["data-dismiss","modal",1,"btn","btn-dark","p-3"],["noBtn",""],[1,"btn","btn-danger","p-3",3,"click"]],template:function(o,n){if(1&o){const i=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3"),t._uU(5),t.qZA()(),t.TgZ(6,"div",4)(7,"p"),t._uU(8,"Are you sure want to delete this"),t.qZA()(),t.TgZ(9,"div",5)(10,"button",6,7),t._uU(12,"No"),t.qZA(),t.TgZ(13,"button",8),t.NdJ("click",function(){t.CHM(i);const u=t.MAs(11);return t.KtG(n.confirm_delete(u))}),t._uU(14,"Yes"),t.qZA()()()()()}2&o&&(t.xp6(5),t.hij("Delete ",n.data,""))}}),e})();function w(e,r){if(1&e&&(t.TgZ(0,"th"),t._uU(1),t.qZA()),2&e){const o=r.$implicit;t.xp6(1),t.Oqu(o)}}function Y(e,r){if(1&e&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&e){const o=t.oxw().$implicit,n=t.oxw().$implicit;t.xp6(1),t.Oqu(n[o])}}function L(e,r){if(1&e&&(t.ynx(0),t.YNc(1,Y,2,1,"td",7),t.BQk()),2&e){const o=r.$implicit;t.xp6(1),t.Q6J("ngIf","_id"!=o)}}function Q(e,r){if(1&e&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.YNc(3,L,2,1,"ng-container",4),t.TgZ(4,"td")(5,"a",5),t._uU(6,"Update"),t.qZA()(),t.TgZ(7,"td")(8,"button",6),t._uU(9,"Delete"),t.qZA()()()),2&e){const o=r.$implicit,n=r.index,i=t.oxw();t.xp6(2),t.Oqu(n+1),t.xp6(1),t.Q6J("ngForOf",i.propName),t.xp6(2),t.s9C("routerLink",i.upDateUrl+"/"+o._id)}}let D=(()=>{class e{constructor(){this.colNames=[],this.data=[],this.propName=[]}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-table"]],inputs:{colNames:"colNames",data:"data",propName:"propName",upDateUrl:"upDateUrl"},decls:7,vars:2,consts:[[1,"container"],[1,"row"],[1,"col-md-12"],[1,"table","table-dark"],[4,"ngFor","ngForOf"],[1,"btn","btn-info","p-3",3,"routerLink"],["data-toggle","modal","data-target","#delModal",1,"btn","btn-danger","p-3"],[4,"ngIf"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"table",3)(4,"tr"),t.YNc(5,w,2,1,"th",4),t.qZA(),t.YNc(6,Q,10,3,"tr",4),t.qZA()()()()),2&o&&(t.xp6(5),t.Q6J("ngForOf",n.colNames),t.xp6(1),t.Q6J("ngForOf",n.data))},dependencies:[l.sg,l.O5,s.yS]}),e})(),E=(()=>{class e{constructor(o){this._cate=o,this.colNames=["S.No.","Category Name","Update","Delete"],this.propName=["name","_id"],this.upDateUrl="/admin/category/edit/",this._cate.getCategory().subscribe(n=>{this.allCategory=n})}ngOnInit(){}delete(o){console.log(o),this.category=o}confirm_delete(){this._cate.deleteCategory(this.category._id).subscribe(o=>{if(1==o.success){let n=this.allCategory.indexOf(this.category);this.allCategory.splice(n,1)}})}demo1(){console.log("****************")}demo2(o){o.click()}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(h.H))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-category-list"]],decls:5,vars:5,consts:[[1,"container","mt-4"],[1,"row"],[1,"col-md-8","offset-md-2"],[3,"colNames","data","propName","upDateUrl"],[3,"data","myEvent"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"app-table",3),t.qZA()()(),t.TgZ(4,"app-delete",4),t.NdJ("myEvent",function(){return n.confirm_delete()}),t.qZA()),2&o&&(t.xp6(3),t.Q6J("colNames",n.colNames)("data",n.allCategory)("propName",n.propName)("upDateUrl",n.upDateUrl),t.xp6(1),t.Q6J("data","Category"))},dependencies:[y,D]}),e})();function M(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"div",7),t._uU(1),t.TgZ(2,"button",8),t.NdJ("click",function(){t.CHM(o);const i=t.oxw();return t.KtG(i.close())}),t._uU(3,"x"),t.qZA()()}if(2&e){const o=t.oxw();t.xp6(1),t.hij(" ",o.msg," ")}}let A=(()=>{class e{constructor(o,n,i){this._cate=o,this._actRoute=n,this._router=i,this.category={name:""},this.id=this._actRoute.snapshot.paramMap.get("id"),this.id&&this._cate.getOneCategory(this.id).subscribe(c=>{this.category.name=c.name})}ngOnInit(){}add(){this.id?this._cate.updateCategory(this.id,this.category).subscribe(o=>{this._router.navigate(["/admin/category/list"])}):this._cate.addCategory(this.category).subscribe(o=>{o.success&&(this.msg="Category Saved Successfuly",this.category.name="",this._router.navigate(["/admin/category/list"]))})}close(){this.msg="",console.log(this.msg)}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(h.H),t.Y36(s.gz),t.Y36(s.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-category"]],decls:11,vars:4,consts:[[1,"container"],[1,"row"],[1,"col-md-6","offset-md-3","mt-4"],[1,"form-group"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-primary",3,"click"],["class","alert alert-success",4,"ngIf"],[1,"alert","alert-success"],[1,"close",3,"click"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label"),t._uU(5),t.qZA(),t.TgZ(6,"input",4),t.NdJ("ngModelChange",function(c){return n.category.name=c}),t.qZA(),t._UZ(7,"br"),t.TgZ(8,"button",5),t.NdJ("click",function(){return n.add()}),t._uU(9),t.qZA(),t.YNc(10,M,4,1,"div",6),t.qZA()()()()),2&o&&(t.xp6(5),t.hij("",n.id?"Update":"Add"," Category Name"),t.xp6(1),t.Q6J("ngModel",n.category.name),t.xp6(3),t.Oqu(n.id?"Update":"Add"),t.xp6(1),t.Q6J("ngIf",n.msg))},dependencies:[l.O5,a.Fj,a.JJ,a.On]}),e})(),S=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-input-text"]],inputs:{data:"data"},decls:6,vars:2,consts:[[1,"form-group"],[2,"color","red"],["type","text",3,"placeholder"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"label"),t._uU(2),t.TgZ(3,"span",1),t._uU(4,"*"),t.qZA()(),t._UZ(5,"input",2),t.qZA()),2&o&&(t.xp6(2),t.hij("",n.data," "),t.xp6(3),t.s9C("placeholder",n.data))}}),e})(),G=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-dashboard"]],decls:6,vars:3,consts:[[3,"data"]],template:function(o,n){1&o&&(t.TgZ(0,"p"),t._uU(1,"dashboard works!"),t.qZA(),t._UZ(2,"app-input-text",0)(3,"br")(4,"app-input-text",0)(5,"app-h1",0)),2&o&&(t.xp6(2),t.Q6J("data","Full Name"),t.xp6(2),t.Q6J("data","Email"),t.xp6(1),t.Q6J("data","welcome"))},dependencies:[T,S]}),e})();var q=p(6082);function H(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td")(10,"a",6),t._uU(11,"Update"),t.qZA()(),t.TgZ(12,"td")(13,"button",7),t.NdJ("click",function(){const c=t.CHM(o).$implicit,u=t.oxw();return t.KtG(u.delete(c))}),t._uU(14,"Delete"),t.qZA()()()}if(2&e){const o=r.$implicit,n=r.index;t.xp6(2),t.Oqu(n+1),t.xp6(2),t.Oqu(o.title),t.xp6(2),t.Oqu(o.price),t.xp6(2),t.Oqu(o.category),t.xp6(2),t.MGl("routerLink","/admin/product/edit/",o._id,"")}}let K=(()=>{class e{constructor(o,n){this._pro=o,this._router=n,this.colNames=["S.No.","Title","Price","Category","Update","Delete"],this.propName=["title","price","category","_id"],this.upDateUrl="/admin/product/edit",this._pro.getProduct().subscribe(i=>{this.allProduct=i})}ngOnInit(){}delete(o){this.product=o}confirm_delete(){this._pro.deleteProduct(this.product._id).subscribe(o=>{let n=this.allProduct.indexOf(this.product);this.allProduct.splice(n,1)})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(q.M),t.Y36(s.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-product-list"]],decls:19,vars:2,consts:[[1,"container","mt-4"],[1,"row"],[1,"col-md-12"],[1,"table","table-hover","table-dark"],[4,"ngFor","ngForOf"],[3,"data","myEvent"],[1,"btn","btn-info","p-3",3,"routerLink"],["data-toggle","modal","data-target","#delModal",1,"btn","btn-danger","p-3",3,"click"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"table",3)(4,"tr")(5,"th"),t._uU(6,"S.No."),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Title"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Price"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Category"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Update"),t.qZA(),t.TgZ(15,"th"),t._uU(16,"Delete"),t.qZA()(),t.YNc(17,H,15,5,"tr",4),t.qZA()()()(),t.TgZ(18,"app-delete",5),t.NdJ("myEvent",function(){return n.confirm_delete()}),t.qZA()),2&o&&(t.xp6(17),t.Q6J("ngForOf",n.allProduct),t.xp6(1),t.Q6J("data","Product"))},dependencies:[l.sg,s.yS,y]}),e})();function X(e,r){1&e&&(t.TgZ(0,"small",17),t._uU(1,"Insert Product Title"),t.qZA())}function z(e,r){1&e&&(t.TgZ(0,"small",17),t._uU(1,"Select Your Product Image"),t.qZA())}function j(e,r){1&e&&(t.TgZ(0,"small",17),t._uU(1,"Select Image Only"),t.qZA())}function $(e,r){1&e&&(t.TgZ(0,"small",17),t._uU(1,"Image Size Should Be less then 5 mb"),t.qZA())}function V(e,r){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,z,2,0,"small",6),t.YNc(2,j,2,0,"small",6),t.YNc(3,$,2,0,"small",6),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.Q6J("ngIf",o.product.controls.image.errors.required),t.xp6(1),t.Q6J("ngIf",o.product.controls.image.errors.typeErr),t.xp6(1),t.Q6J("ngIf",o.product.controls.image.errors.sizeErr)}}function B(e,r){1&e&&(t.TgZ(0,"small",17),t._uU(1,"Insert Product Price"),t.qZA())}function R(e,r){1&e&&(t.TgZ(0,"small",17),t._uU(1,"Insert Price Only In Digits"),t.qZA())}function W(e,r){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,B,2,0,"small",6),t.YNc(2,R,2,0,"small",6),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.Q6J("ngIf",o.product.controls.price.errors.required),t.xp6(1),t.Q6J("ngIf",o.product.controls.price.errors.numErr)}}function tt(e,r){if(1&e&&(t.TgZ(0,"option"),t._uU(1),t.qZA()),2&e){const o=r.$implicit;t.xp6(1),t.Oqu(o.name)}}function et(e,r){1&e&&(t.TgZ(0,"small",17),t._uU(1,"Insert Product Discount"),t.qZA())}function ot(e,r){1&e&&(t.TgZ(0,"small",17),t._uU(1,"Insert Discount Only In Digits"),t.qZA())}function nt(e,r){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,et,2,0,"small",6),t.YNc(2,ot,2,0,"small",6),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.Q6J("ngIf",o.product.controls.discount.errors.required),t.xp6(1),t.Q6J("ngIf",o.product.controls.discount.errors.numErr)}}function rt(e,r){1&e&&(t.TgZ(0,"small",17),t._uU(1,"Insert Product Quantity"),t.qZA())}function it(e,r){1&e&&(t.TgZ(0,"small",17),t._uU(1,"Insert Quantity Only In Digits"),t.qZA())}function at(e,r){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,rt,2,0,"small",6),t.YNc(2,it,2,0,"small",6),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.Q6J("ngIf",o.product.controls.quantity.errors.required),t.xp6(1),t.Q6J("ngIf",o.product.controls.quantity.errors.numErr)}}const m=function(e){return{"is-invalid":e}};function Z(e){return function(r){let o=r.controls[e];o.errors&&!o.errors.numErr||isNaN(o.value)&&o.setErrors({numErr:!0})}}let U=(()=>{class e{constructor(o,n,i,c,u){this._router=o,this._cate=n,this._pro=i,this._actRoute=c,this._fb=u,this.checkForm=!1,this._cate.getCategory().subscribe(v=>{this.allCategory=v}),this.id=this._actRoute.snapshot.paramMap.get("id"),this.id&&this._pro.getOneProduct(this.id).subscribe(v=>{this.product.setValue(v)}),this.product=this._fb.group({_id:null,title:["",a.kI.required],price:[null,a.kI.required],category:["",a.kI.required],detail:["",a.kI.required],discount:[null,a.kI.required],quantity:[null,a.kI.required],image:["",a.kI.required]},{validator:[Z("price"),Z("quantity"),Z("discount"),function(e){let r=e.controls.image,o=r.value.split("."),n=o[o.length-1];r.errors&&!r.errors.typeErr||r.setErrors("jpg"!=n&&"png"!=n&&"jpeg"!=n&&"bmp"!=n?{typeErr:!0}:null)}]})}ngOnInit(){}add(o){if(this.product.invalid)this.checkForm=!0;else if(this.id)this._pro.updateProduct(this.id,this.product).subscribe(n=>{this._router.navigate(["/admin/products/list"])});else{let n=o.files[0],i=new FormData;i.append("data",JSON.stringify(this.product.value)),i.append("image",n),this._pro.addProduct(i).subscribe(c=>{this._router.navigate(["/admin/products/list"])})}}checkImgSize(o){this.product.controls.image.errors&&!this.product.controls.image.errors.sizeErr||this.product.controls.image.setErrors(o.files[0].size>5242880?{sizeErr:!0}:null)}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(s.F0),t.Y36(h.H),t.Y36(q.M),t.Y36(s.gz),t.Y36(a.qu))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-produts"]],decls:46,vars:30,consts:[[1,"conainter","mt-4"],[3,"formGroup"],[1,"row"],[1,"col-md-6","offset-md-3"],[1,"form-group"],["type","text","formControlName","title",1,"form-control",3,"ngClass"],["class","text-danger",4,"ngIf"],["type","file","formControlName","image",1,"form-control",3,"ngClass","change"],["img",""],[4,"ngIf"],["type","text","formControlName","price",1,"form-control",3,"ngClass"],["formControlName","category",1,"form-control",3,"ngClass"],[4,"ngFor","ngForOf"],["formControlName","detail",1,"form-control",3,"ngClass"],["type","text","formControlName","discount",1,"form-control",3,"ngClass"],["type","text","formControlName","quantity",1,"form-control",3,"ngClass"],["type","button",1,"btn","btn-primary",3,"value","click"],[1,"text-danger"]],template:function(o,n){if(1&o){const i=t.EpF();t.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3"),t._uU(5),t.qZA(),t.TgZ(6,"div",4)(7,"label"),t._uU(8,"Product Title"),t.qZA(),t._UZ(9,"input",5),t.YNc(10,X,2,0,"small",6),t.qZA(),t.TgZ(11,"div",4)(12,"label"),t._uU(13,"Product Image"),t.qZA(),t.TgZ(14,"input",7,8),t.NdJ("change",function(){t.CHM(i);const u=t.MAs(15);return t.KtG(n.checkImgSize(u))}),t.qZA(),t.YNc(16,V,4,3,"div",9),t.qZA(),t.TgZ(17,"div",4)(18,"label"),t._uU(19,"Product Price"),t.qZA(),t._UZ(20,"input",10),t.YNc(21,W,3,2,"div",9),t.qZA(),t.TgZ(22,"div",4)(23,"label"),t._uU(24,"Product Category"),t.qZA(),t.TgZ(25,"select",11)(26,"option"),t._uU(27,"Select"),t.qZA(),t.YNc(28,tt,2,1,"option",12),t.qZA()(),t.TgZ(29,"div",4)(30,"label"),t._uU(31,"Product Detail"),t.qZA(),t._UZ(32,"textarea",13),t.qZA(),t.TgZ(33,"div",4)(34,"label"),t._uU(35,"Product Discount (%)"),t.qZA(),t._UZ(36,"input",14),t.YNc(37,nt,3,2,"div",9),t.qZA(),t.TgZ(38,"div",4)(39,"label"),t._uU(40,"Total Product Quantity"),t.qZA(),t._UZ(41,"input",15),t.YNc(42,at,3,2,"div",9),t.qZA(),t._UZ(43,"br")(44,"Br"),t.TgZ(45,"input",16),t.NdJ("click",function(){t.CHM(i);const u=t.MAs(15);return t.KtG(n.add(u))}),t.qZA()()()()()}2&o&&(t.xp6(1),t.Q6J("formGroup",n.product),t.xp6(4),t.hij("",n.id?"Update":"Add New"," Product"),t.xp6(4),t.Q6J("ngClass",t.VKq(16,m,n.product.controls.title.errors&&n.checkForm)),t.xp6(1),t.Q6J("ngIf",n.product.controls.title.errors&&n.checkForm),t.xp6(4),t.Q6J("ngClass",t.VKq(18,m,n.product.controls.image.errors&&n.checkForm)),t.xp6(2),t.Q6J("ngIf",n.product.controls.image.errors&&n.checkForm),t.xp6(4),t.Q6J("ngClass",t.VKq(20,m,n.product.controls.price.errors&&n.checkForm)),t.xp6(1),t.Q6J("ngIf",n.product.controls.price.errors&&n.checkForm),t.xp6(4),t.Q6J("ngClass",t.VKq(22,m,n.product.controls.category.errors&&n.checkForm)),t.xp6(3),t.Q6J("ngForOf",n.allCategory),t.xp6(4),t.Q6J("ngClass",t.VKq(24,m,n.product.controls.detail.errors&&n.checkForm)),t.xp6(4),t.Q6J("ngClass",t.VKq(26,m,n.product.controls.discount.errors&&n.checkForm)),t.xp6(1),t.Q6J("ngIf",n.product.controls.discount.errors&&n.checkForm),t.xp6(4),t.Q6J("ngClass",t.VKq(28,m,n.product.controls.quantity.errors&&n.checkForm)),t.xp6(1),t.Q6J("ngIf",n.product.controls.quantity.errors&&n.checkForm),t.xp6(3),t.s9C("value",n.id?"Update":"Add"))},dependencies:[l.mk,l.sg,l.O5,a._Y,a.YN,a.Kr,a.Fj,a.EJ,a.JJ,a.JL,a.sg,a.u]}),e})();const b=function(e){return{"is-invalid":e}};let ct=(()=>{class e{constructor(o,n,i){this._fb=o,this._router=n,this._login=i,this.checkForm=!1,this.errMsg="",this.loginForm=this._fb.group({username:["",a.kI.required],password:["",a.kI.required]})}ngOnInit(){}login(){this.loginForm.invalid?this.checkForm=!0:this._login.do_login(this.loginForm.value).subscribe(o=>{0==o.success?(1==o.type&&(this.errMsg="This Username and Password incorrect"),2==o.type&&(this.errMsg="This Password incorrect")):(localStorage.setItem(g.N.tokenName,o.token),this._router.navigate(["/admin/dashboard"]))})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(a.qu),t.Y36(s.F0),t.Y36(f))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-login"]],decls:21,vars:8,consts:[[1,"container","my-4"],[3,"formGroup"],[1,"row"],[1,"col-md-6","offset-md-3"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"form-group"],["for",""],["type","text","formControlName","username",1,"form-control",3,"ngClass"],["type","password","formControlName","password",1,"form-control",3,"ngClass"],[1,"card-footer"],["type","submit","value","Login",1,"btn","btn-primary",3,"click"],[1,"text-danger"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4"),t._uU(7,"Administrator Login"),t.qZA()(),t.TgZ(8,"div",6)(9,"div",7)(10,"label",8),t._uU(11,"Username"),t.qZA(),t._UZ(12,"input",9),t.qZA(),t.TgZ(13,"div",7)(14,"label",8),t._uU(15,"Password"),t.qZA(),t._UZ(16,"input",10),t.qZA()(),t.TgZ(17,"div",11)(18,"input",12),t.NdJ("click",function(){return n.login()}),t.qZA(),t.TgZ(19,"small",13),t._uU(20),t.qZA()()()()()()()),2&o&&(t.xp6(1),t.Q6J("formGroup",n.loginForm),t.xp6(11),t.Q6J("ngClass",t.VKq(4,b,n.loginForm.controls.username.errors&&n.checkForm)),t.xp6(4),t.Q6J("ngClass",t.VKq(6,b,n.loginForm.controls.password.errors&&n.checkForm)),t.xp6(4),t.Oqu(n.errMsg))},dependencies:[l.mk,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u]}),e})(),d=(()=>{class e{constructor(o,n){this._login=o,this._router=n}canActivate(){return!!this._login.isLoggedIn()||(this._router.navigate(["/"]),!1)}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(f),t.LFG(s.F0))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),lt=(()=>{class e{constructor(o,n){this._login=o,this._router=n}canActivate(){return!this._login.isLoggedIn()||(this._router.navigate(["/admin/dashboard"]),!1)}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(f),t.LFG(s.F0))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),ut=(()=>{class e{transform(o,n){return"electronics"==n?o-20*o/100:o-10*o/100}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275pipe=t.Yjl({name:"discount",type:e,pure:!0}),e})();function pt(e,r){if(1&e&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"discount"),t.qZA()()),2&e){const o=r.$implicit,n=r.index;t.xp6(2),t.Oqu(n+1),t.xp6(2),t.Oqu(o.title),t.xp6(2),t.Oqu(o.price),t.xp6(2),t.Oqu(t.xi3(9,4,o.price,o.category))}}const dt=[{path:"",component:O,children:[{path:"",component:ct,canActivate:[lt]},{path:"dashboard",component:G,canActivate:[d]},{path:"products",component:U,canActivate:[d]},{path:"category",component:A,canActivate:[d]},{path:"category/list",component:E,canActivate:[d]},{path:"products/list",component:K,canActivate:[d]},{path:"users",component:k,canActivate:[d]},{path:"category/edit/:id",component:A,canActivate:[d]},{path:"product/edit/:id",component:U,canActivate:[d]},{path:"demo",component:(()=>{class e{constructor(o){this._http=o,this.a="rohit",this.fee=5e3,this.x=new Date,this.data=[{name:"rohit",age:25},{name:"amar",age:23}],this.allPro=[],this._http.get("https://fakestoreapi.com/products").subscribe(n=>{this.allPro=n})}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(_.eN))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-demo"]],decls:14,vars:1,consts:[[1,"container","my-4"],[1,"row"],[1,"col-md-12"],[1,"table","table-dark","table-hover"],[4,"ngFor","ngForOf"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"table",3)(4,"tr")(5,"th"),t._uU(6,"S.No."),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Title"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Price"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Discount Price"),t.qZA()(),t.YNc(13,pt,10,7,"tr",4),t.qZA()()()()),2&o&&(t.xp6(13),t.Q6J("ngForOf",n.allPro))},dependencies:[l.sg,ut]}),e})(),canActivate:[d]}]}];let mt=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[s.Bz.forChild(dt),s.Bz]}),e})(),gt=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[l.ez,mt,a.u5,_.JF,a.UX]}),e})()}}]);